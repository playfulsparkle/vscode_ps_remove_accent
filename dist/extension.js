"use strict";var y=Object.create;var i=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var M=Object.getOwnPropertyNames;var A=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty;var k=(e,r)=>{for(var t in r)i(e,t,{get:r[t],enumerable:!0})},m=(e,r,t,s)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of M(r))!x.call(e,o)&&o!==t&&i(e,o,{get:()=>r[o],enumerable:!(s=C(r,o))||s.enumerable});return e};var h=(e,r,t)=>(t=e!=null?y(A(e)):{},m(r||!e||!e.__esModule?i(t,"default",{value:e,enumerable:!0}):t,e)),E=e=>m(i({},"__esModule",{value:!0}),e);var j={};k(j,{activate:()=>b,deactivate:()=>I});module.exports=E(j);var n=h(require("vscode"));var a=h(require("vscode"));function g(e,r={}){if(!e||typeof e!="string")return e;try{let t=e.normalize("NFD");return Array.from(t).map(s=>s.charCodeAt(0)>=768&&s.charCodeAt(0)<=879?"":r[s]||s).join("")}catch{return e}}function w(e){if(!e||typeof e!="object")return a.l10n.t("Invalid mappings: Not an object.");for(let[r,t]of Object.entries(e)){if(typeof r!="string"||r.length!==1)return a.l10n.t('Invalid key: "{key}". Keys must be single characters.',{key:r});if(typeof t!="string")return a.l10n.t('Invalid value for key "${key}": "${value}". Values must be strings.',{key:r,value:t})}return""}function b(e){let r=n.commands.registerCommand("ps-replace-accents.replaceAccents",async()=>{try{let t=n.window.activeTextEditor;if(!t)return;let s=t.document,o=t.selections;if(s.uri.scheme!=="file"&&s.uri.scheme!=="untitled"){n.window.showErrorMessage(n.l10n.t('Cannot modify "{type}" type of document',{type:s.uri.scheme}));return}let l=n.workspace.getConfiguration("ps-replace-accents").get("specialCharacterMappings",{}),f=w(l);if(f){n.window.showErrorMessage(f);return}let u=o.length===0||o.length===1&&o[0].isEmpty;await t.edit(v=>{if(u){let c=new n.Range(s.lineAt(0).range.start,s.lineAt(s.lineCount-1).range.end),d=s.getText(c),p=g(d,l);v.replace(c,p)}else for(let c of o)if(!c.isEmpty){let d=s.getText(c),p=g(d,l);v.replace(c,p)}}),u?n.window.showInformationMessage(n.l10n.t("All accented characters were replaced in the entire document.")):n.window.showInformationMessage(n.l10n.t("All accented characters were replaced in the selected text."))}catch(t){let s=t instanceof Error?t.message:n.l10n.t("Unknown error");n.window.showErrorMessage(n.l10n.t("Unable to replace accents: {errorMessage}. If this persists, please try reopening the file or restarting VS Code.",{errorMessage:s}))}});e.subscriptions.push(r)}function I(){}0&&(module.exports={activate,deactivate});
